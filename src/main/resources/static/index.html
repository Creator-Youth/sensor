<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link href="css/reset.css" rel="stylesheet" />
    <link href="css/index.css" rel="stylesheet" />
    <title>管理员登录页</title>
</head>
<body>
    <div class="LoginBox">
        <div class="VerticalCenteredBox">
            <div class="LoginHead">
                南邮宿舍就寝管理系统
            </div>
            <div class="LoginUserBoxOut ">
                <div class="LoginUserBox mar_top30">
                    <input type="text" id="user_name" class="LoginUserInput" placeholder="请输入账号" />
                    <span>请输入账号</span>
                </div>
            </div>
            <div class="LoginUserBoxOut">
                <div class="LoginUserBox">
                    <input type="text" id="password" class="LoginUserInput" placeholder="请输入密码" type="password" />
                    <span>请输入密码</span>
                </div>
            </div>

            <div class="LoginUserBoxOut">

                <div class="LoginLastBox clearfix">
                    <div class="submit">
                        <input type="button" onclick="test()"  value="登录" id="btn_login" class="RightBox">
                        <input type="checkbox" id="rememberMe"/><label class="RightBox">记住密码</label>
                        <input type="button" onclick="tishi()" value="忘记密码?" id="btn" class="RightBox">
                    </div>
                </div>
            </div>

        </div>
    </div>
    <script>
        function tishi() {
            alert("请联系王先首");
        }
        function test(){
            user_name = document.getElementById("user_name").value;
            password  = document.getElementById("password").value;
            if(window.XMLHttpRequest){
                xmlhttp = new XMLHttpRequest();
            }else{
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.open("post","login/getPasswordByusername",true);
            xmlhttp.onreadystatechange=function(){
                if (xmlhttp.status == 200) {
                    if (xmlhttp.readyState == 4) {
                        if(xmlhttp.responseText=="true"){
                            alert("账号不存在或者密码错误");
                        }else {
                            window.location.href=("UserManagement.html");
                        }
                    }
                }
            }
            xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
            xmlhttp.send("user_name="+user_name+"&password="+password);
        }
    </script>
</body>
</html>